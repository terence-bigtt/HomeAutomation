{% extends "general/index.html" %}

{% block page %}
<script>
    const play = function(device_id){
        console.log(device_id);
        playing = device_id;
        document.getElementById("video-"+device_id).src = "{{ url_for('monitoring.video_feed') }}?id="+device_id;
    };

    const stop = function(device_id){
        document.getElementById("video-"+device_id).src = "{{ url_for('monitoring.video_preview') }}?id=" + device_id;
    };

</script>

<div id="monitor">
    {% for h_cams in cams %}
    <div class="monitor-cams">
        {% for cam in h_cams %}
        <div class="monitor-cam-group" style="width:{{100/(h_cams|length)/1.2}}%">
            <div class="monitor-cam">{{cam.name}}</div>
            <img class="monitor-cam" id="video-{{ cam.device_id }}" onclick="play({{ cam.device_id }})"
                 src="{{ url_for('monitoring.video_preview') }}?id={{ cam.device_id }}">
            <div class="monitor-cam">Play - Pause</div>
        </div>
        {% endfor %}
    </div>


    {% endfor %}
</div>
{% endblock %}